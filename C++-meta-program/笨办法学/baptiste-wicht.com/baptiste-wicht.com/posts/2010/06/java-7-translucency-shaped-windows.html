<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Java 7 : Translucency and shaped windows | Blog blog("Baptiste Wicht");</title>
<script src="/cdn-cgi/apps/head/98vpnawSZZMscPn4oDND-ZgswjM.js"></script><link href="../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../../rss.xml">
<link rel="canonical" href="http://baptiste-wicht.com/posts/2010/06/java-7-translucency-shaped-windows.html">
<!--[if lt IE 9]><script src="../../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Baptiste Wicht">
<link rel="prev" href="../05/java-7-add-public-defender-methods-to-java-interfaces.html" title='Java 7 : Add "public defender methods" to Java interfaces' type="text/html">
<link rel="next" href="how-to-choose-a-monitor.html" title="How to choose a monitor for your computer ?" type="text/html">
<meta property="og:site_name" content='Blog blog("Baptiste Wicht");'>
<meta property="og:title" content="Java 7 : Translucency and shaped windows">
<meta property="og:url" content="http://baptiste-wicht.com/posts/2010/06/java-7-translucency-shaped-windows.html">
<meta property="og:description" content="Java 7 introduces very interesting features for desktop windows :

    Transclucency for windows : Make a full window translucent with a specified alpha level
    Per pixel translucency : Make a part ">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2010-06-02T06:32:11+02:00">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="Java 7">
<meta property="article:tag" content="Swing">
<link href="../../../favicon.ico" rel="icon" type="image/x-icon">
<link rel="publisher" href="https://plus.google.com/+BaptisteWicht">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-2175227-7', 'auto');
  var metas = document.getElementsByTagName('meta'), tagsList = [];
  for (var i=0; i<metas.length; i++) {
    if (metas[i].getAttribute('property') == 'article:tag') {
      tagsList.push( metas[i].getAttribute('content'));
    }
  }
  ga('set', 'dimension1', tagsList.join('|'));
  ga('send', 'pageview');
</script>
</head>
<body>

<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>
<div class="container-fluid">

<div class="row">
<div class="col-sm-3 col-lg-2">
<nav class="navbar navbar-inverse navbar-fixed-side"><div class="navbar-header">
<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
<span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
<a class="navbar-brand" href="http://baptiste-wicht.com/">
<span id="blog-title">Blog blog("Baptiste Wicht");</span>
</a>
</div>

<div class="collapse navbar-collapse navbar-ex1-collapse">
<ul class="nav navbar-nav">
<li>
<a href="../../../stories/about.html">About</a>
</li>
<li>
<a href="../../../stories/publications.html">Publications</a>
</li>
<li>
<a href="../../../stories/projects.html">Projects</a>
</li>
<li>
<a href="../../../categories/index.html">Tags</a>
</li>
<li>
<a href="../../../archive.html">Archives</a>
</li>
<li>
<a href="http://feeds.feedburner.com/BaptisteWicht">RSS</a>
</li>
<li class="navbar-content">
<h3>Related posts</h3>
</li>
<li><a href="../05/ubuntu-lucid-lynx-buttons-right.html">Ubuntu Lucid Lynx Tip : Put the window buttons to the right</a></li>
<li><a href="../../2013/07/why-how-left-windows-for-linux.html">Why and how I completely left Windows for Linux</a></li>
<li><a href="../../2016/04/simplify-deep-learning-library-usage-on-linux-and-windows.html">Simplify Deep Learning Library usage on Linux and Windows!</a></li>
<li><a href="../../2011/07/java-7-has-been-released.html">Java 7 has been released!</a></li>
<li><a href="../03/java-swing-focus.html">Manage focus with Swing in Java</a></li>
<li><a href="../04/java-7-more-dynamics.html">Java 7 : More dynamics</a></li>
<li class="navbar-block">
<li class="wicht-navbar-right">
<a target="_blank" title="Follow @wichtounet on Twitter" href="https://twitter.com/wichtounet">
<img src="../../../assets/img/twitter.png" alt="Follow @wichtounet on Twitter"></a>
</li>
<li class="wicht-navbar-right">
<a target="_blank" title="Follow +BaptisteWicht on Google+" href="https://plus.google.com/+BaptisteWicht">
<img src="../../../assets/img/google_plus.png" alt="Follow +BaptisteWicht on Google+"></a>
</li>
</ul>
</div>

</nav>
</div> 
<div class="col-sm-9 col-lg-10">
<div id="content"></div>
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">Java 7 : Translucency and shaped windows</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author">
Baptiste Wicht
</span></p>
<p class="dateline"><a href="#" rel="bookmark"><time class="published dt-published" datetime="2010-06-02T06:32:11+02:00" itemprop="datePublished" title="2010-06-02 06:32">2010-06-02 06:32</time></a></p>
<p class="commentline">
<a href="java-7-translucency-shaped-windows.html#disqus_thread" data-disqus-identifier="cache/posts/2010/06/java-7-translucency-shaped-windows.html">Comments</a>
</p>
<p class="sourceline"><a href="java-7-translucency-shaped-windows.wp" class="sourcelink">Source</a></p>
</div>
</header><div class="e-content entry-content" itemprop="articleBody text">
<div>
<p>Java 7 introduces very interesting features for desktop windows :</p>
<ul>
<li>
<strong>Transclucency for windows</strong> : Make a full window translucent with a specified alpha level</li>
<li>
<strong>Per pixel translucency</strong> : Make a part of the window translucent.</li>
<li>
<strong>Shaped windows</strong> : You can now create windows with a certain shape, like circle, ovale, triangle, ...</li>
</ul>
<p>We'll see all this features in that post. All the examples are tested in Windows Seven 64 bits, because the transclucency isn't supported in Ubuntu 10.04 at the time I write the article.</p>

<p>First of all, you can now set the opacity of the window with the setOpacity(float opacity) of the Window class. With that, the entire window is made translucent. There is some limitations with that new method. An opacity less than 1.0 isn't supported if the window use full-screen mode or if the simple translucency isn't supported. You can test if the window transclucency is supported with the isWindowTranslucencySupported() method added to the GraphicsDevice class :</p>
<pre class="code literal-block"><span></span><span class="n">GraphicsEnvironment</span> <span class="n">ge</span> <span class="o">=</span> <span class="n">GraphicsEnvironment</span><span class="o">.</span><span class="na">getLocalGraphicsEnvironment</span><span class="o">();</span>
<span class="k">if</span> <span class="o">(</span><span class="n">ge</span><span class="o">.</span><span class="na">getDefaultScreenDevice</span><span class="o">().</span><span class="na">isWindowTranslucencySupported</span><span class="o">(</span><span class="n">GraphicsDevice</span><span class="o">.</span><span class="na">WindowTranslucency</span><span class="o">.</span><span class="na">TRANSLUCENT</span><span class="o">))</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Window translucency isn't supported on your system. "</span><span class="o">);</span>
<span class="o">}</span>
</pre>
<p>We know enough to write a first translucent window :</p>
<pre class="code literal-block"><span></span><span class="kn">package</span> <span class="nn">com.wicht.java7.swing</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.event.ChangeEvent</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.event.ChangeListener</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TranslucentWindow</span> <span class="kd">extends</span> <span class="n">JFrame</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nf">TranslucentWindow</span><span class="o">()</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="s">"Simple Translucency Demo"</span><span class="o">);</span>

        <span class="n">setSize</span><span class="o">(</span><span class="mi">300</span><span class="o">,</span> <span class="mi">200</span><span class="o">);</span>

        <span class="n">setDefaultCloseOperation</span><span class="o">(</span><span class="n">EXIT_ON_CLOSE</span><span class="o">);</span>

        <span class="n">getRootPane</span><span class="o">().</span><span class="na">setDoubleBuffered</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
        <span class="n">setOpacity</span><span class="o">(</span><span class="mf">0.5f</span><span class="o">);</span>

        <span class="n">setLocationRelativeTo</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span>
        <span class="n">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">SwingUtilities</span><span class="o">.</span><span class="na">invokeLater</span><span class="o">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="o">(){</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
                <span class="n">GraphicsEnvironment</span> <span class="n">ge</span> <span class="o">=</span> <span class="n">GraphicsEnvironment</span><span class="o">.</span><span class="na">getLocalGraphicsEnvironment</span><span class="o">();</span>

                <span class="k">if</span> <span class="o">(</span><span class="n">ge</span><span class="o">.</span><span class="na">getDefaultScreenDevice</span><span class="o">().</span><span class="na">isWindowTranslucencySupported</span><span class="o">(</span><span class="n">GraphicsDevice</span><span class="o">.</span><span class="na">WindowTranslucency</span><span class="o">.</span><span class="na">TRANSLUCENT</span><span class="o">))</span> <span class="o">{</span>
                    <span class="k">new</span> <span class="n">TranslucentWindow</span><span class="o">();</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre>
<p>Note : We disable double buffering to remove artifacts that come when double buffer a translucent window.</p>
<p>That produce this result on my computer :</p>
<p><a href="../../../wp-content/uploads/2010/05/TranslucentWindow.png"><img class="size-full wp-image-610" title="Java 7 Translucent Window" src="../../../wp-content/uploads/2010/05/TranslucentWindow.png" alt="Java 7 Translucent Window" width="300" height="200"></a></p>
<p>So, it's really simple to make a window translucent. But there is more you can do. You can also make only a set of pixel translucent using their background color. Like the translucent window, there is some limitations, the window must not be in full-screen and the system must support the per pixel translucency. You can test it the same way as the first time :</p>
<pre class="code literal-block"><span></span><span class="n">GraphicsEnvironment</span> <span class="n">ge</span> <span class="o">=</span> <span class="n">GraphicsEnvironment</span><span class="o">.</span><span class="na">getLocalGraphicsEnvironment</span><span class="o">();</span>

<span class="k">if</span> <span class="o">(</span><span class="n">ge</span><span class="o">.</span><span class="na">getDefaultScreenDevice</span><span class="o">().</span><span class="na">isWindowTranslucencySupported</span><span class="o">(</span><span class="n">GraphicsDevice</span><span class="o">.</span><span class="na">WindowTranslucency</span><span class="o">.</span><span class="na">PERPIXEL_TRANSLUCENT</span><span class="o">))</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Window translucency isn't supported on your system. "</span><span class="o">);</span>
<span class="o">}</span>
</pre>
<p>A simple making a grid of 16 panels more and more translucent :</p>
<pre class="code literal-block"><span></span><span class="kn">package</span> <span class="nn">com.wicht.java7.swing</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.ActionEvent</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.ActionListener</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">GriddedTranslucentWindow</span> <span class="kd">extends</span> <span class="n">JFrame</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nf">GriddedTranslucentWindow</span><span class="o">()</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="s">"Java 7 Per Pixel Translucency"</span><span class="o">);</span>

        <span class="n">setSize</span><span class="o">(</span><span class="mi">300</span><span class="o">,</span> <span class="mi">320</span><span class="o">);</span>

        <span class="n">getContentPane</span><span class="o">().</span><span class="na">setLayout</span><span class="o">(</span><span class="k">new</span> <span class="n">GridLayout</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span> <span class="mi">4</span><span class="o">));</span>

        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&amp;</span><span class="n">amp</span><span class="o">;</span><span class="n">lt</span><span class="o">;</span> <span class="mi">16</span><span class="o">;</span> <span class="n">i</span><span class="o">++){</span>
            <span class="n">add</span><span class="o">(</span><span class="k">new</span> <span class="n">AlphaPanel</span><span class="o">(</span><span class="mi">255</span> <span class="o">-</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">12</span><span class="o">));</span>
        <span class="o">}</span>

        <span class="n">setBackground</span><span class="o">(</span><span class="k">new</span> <span class="n">Color</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">));</span>

        <span class="n">setLocationRelativeTo</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span>
        <span class="n">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">SwingUtilities</span><span class="o">.</span><span class="na">invokeLater</span><span class="o">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="o">(){</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
                <span class="n">GraphicsEnvironment</span> <span class="n">ge</span> <span class="o">=</span> <span class="n">GraphicsEnvironment</span><span class="o">.</span><span class="na">getLocalGraphicsEnvironment</span><span class="o">();</span>

                <span class="k">if</span> <span class="o">(</span><span class="n">ge</span><span class="o">.</span><span class="na">getDefaultScreenDevice</span><span class="o">().</span><span class="na">isWindowTranslucencySupported</span><span class="o">(</span><span class="n">GraphicsDevice</span><span class="o">.</span><span class="na">WindowTranslucency</span><span class="o">.</span><span class="na">PERPIXEL_TRANSLUCENT</span><span class="o">))</span> <span class="o">{</span>
                    <span class="k">new</span> <span class="n">GriddedTranslucentWindow</span><span class="o">();</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">class</span> <span class="nc">AlphaPanel</span> <span class="kd">extends</span> <span class="n">JPanel</span> <span class="o">{</span>
        <span class="kd">private</span> <span class="nf">AlphaPanel</span><span class="o">(</span><span class="kt">int</span> <span class="n">alpha</span><span class="o">)</span> <span class="o">{</span>
            <span class="kd">super</span><span class="o">();</span>

            <span class="n">setBackground</span><span class="o">(</span><span class="k">new</span> <span class="n">Color</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">255</span><span class="o">,</span> <span class="n">alpha</span><span class="o">));</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre>
<p>That give me this kind of result :</p>
<p><a href="../../../wp-content/uploads/2010/05/PerPixelTranslucency1.png"><img class="size-full wp-image-612" title="Java 7 : Per Pixel Translucency" src="../../../wp-content/uploads/2010/05/PerPixelTranslucency1.png" alt="Java 7 : Per Pixel Translucency" width="284" height="279"></a></p>
<p>The example is very simple of course, but you can imagine doing a lot of things using that feature.</p>
<p>And now a crazy new feature : shaped windows !</p>
<p>Java 7 allows you to create Window of whatever shape you want. You can create circle, triangle, elliptic windows or more complex shape, a smiley by example. To do that, you have now access to the setShape(Shape shape) method in the Window class. Like the other two, full screen mode is not allowed and the per pixel transparency must be supported by your computer :</p>
<pre class="code literal-block"><span></span><span class="n">GraphicsEnvironment</span> <span class="n">ge</span> <span class="o">=</span> <span class="n">GraphicsEnvironment</span><span class="o">.</span><span class="na">getLocalGraphicsEnvironment</span><span class="o">();</span>

<span class="k">if</span> <span class="o">(</span><span class="n">ge</span><span class="o">.</span><span class="na">getDefaultScreenDevice</span><span class="o">().</span><span class="na">isWindowTranslucencySupported</span><span class="o">(</span><span class="n">GraphicsDevice</span><span class="o">.</span><span class="na">WindowTranslucency</span><span class="o">.</span><span class="na">PERPIXEL_TRANSPARENT</span> <span class="o">))</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Window translucency isn't supported on your system. "</span><span class="o">)</span>
<span class="o">}</span>
</pre>
<p>Here is a little example combining a triangle and a circle :</p>
<pre class="code literal-block"><span></span><span class="kn">package</span> <span class="nn">com.wicht.java7.swing</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.geom.Ellipse2D</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.geom.GeneralPath</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ShapedWindow</span> <span class="kd">extends</span> <span class="n">JFrame</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nf">ShapedWindow</span><span class="o">()</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="s">"Shaped Window"</span><span class="o">);</span>

        <span class="n">setUndecorated</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

        <span class="n">setSize</span><span class="o">(</span><span class="k">new</span> <span class="n">Dimension</span><span class="o">(</span><span class="mi">200</span><span class="o">,</span> <span class="mi">300</span><span class="o">));</span>

        <span class="n">Polygon</span> <span class="n">polygon</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Polygon</span><span class="o">();</span>
        <span class="n">polygon</span><span class="o">.</span><span class="na">addPoint</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">200</span><span class="o">);</span>
        <span class="n">polygon</span><span class="o">.</span><span class="na">addPoint</span><span class="o">(</span><span class="mi">100</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
        <span class="n">polygon</span><span class="o">.</span><span class="na">addPoint</span><span class="o">(</span><span class="mi">200</span><span class="o">,</span> <span class="mi">200</span><span class="o">);</span>

        <span class="n">Ellipse2D</span><span class="o">.</span><span class="na">Double</span> <span class="n">theCircle</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Ellipse2D</span><span class="o">.</span><span class="na">Double</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">100</span><span class="o">,</span> <span class="mf">1.0</span><span class="o">*</span><span class="mi">200</span><span class="o">,</span> <span class="mf">1.0</span><span class="o">*</span><span class="mi">200</span><span class="o">);</span>

        <span class="n">GeneralPath</span> <span class="n">path</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GeneralPath</span><span class="o">();</span>
        <span class="n">path</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">polygon</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
        <span class="n">path</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">theCircle</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>

        <span class="n">setShape</span><span class="o">(</span><span class="n">path</span><span class="o">);</span>

        <span class="n">getContentPane</span><span class="o">().</span><span class="na">setLayout</span><span class="o">(</span><span class="k">new</span> <span class="n">BoxLayout</span><span class="o">(</span><span class="n">getContentPane</span><span class="o">(),</span> <span class="n">BoxLayout</span><span class="o">.</span><span class="na">X_AXIS</span><span class="o">));</span>

        <span class="n">add</span><span class="o">(</span><span class="n">Box</span><span class="o">.</span><span class="na">createHorizontalGlue</span><span class="o">());</span>
        <span class="n">JLabel</span> <span class="n">label</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JLabel</span><span class="o">(</span><span class="s">"Shaped window"</span><span class="o">);</span>
        <span class="n">label</span><span class="o">.</span><span class="na">setForeground</span><span class="o">(</span><span class="n">Color</span><span class="o">.</span><span class="na">white</span><span class="o">);</span>
        <span class="n">add</span><span class="o">(</span><span class="n">label</span><span class="o">);</span>
        <span class="n">add</span><span class="o">(</span><span class="n">Box</span><span class="o">.</span><span class="na">createHorizontalGlue</span><span class="o">());</span>

        <span class="n">getContentPane</span><span class="o">().</span><span class="na">setBackground</span><span class="o">(</span><span class="n">Color</span><span class="o">.</span><span class="na">blue</span><span class="o">);</span>

        <span class="n">setLocationRelativeTo</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span>
        <span class="n">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">SwingUtilities</span><span class="o">.</span><span class="na">invokeLater</span><span class="o">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="o">(){</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
                <span class="n">GraphicsEnvironment</span> <span class="n">ge</span> <span class="o">=</span> <span class="n">GraphicsEnvironment</span><span class="o">.</span><span class="na">getLocalGraphicsEnvironment</span><span class="o">();</span>

                <span class="k">if</span> <span class="o">(</span><span class="n">ge</span><span class="o">.</span><span class="na">getDefaultScreenDevice</span><span class="o">().</span><span class="na">isWindowTranslucencySupported</span><span class="o">(</span><span class="n">GraphicsDevice</span><span class="o">.</span><span class="na">WindowTranslucency</span><span class="o">.</span><span class="na">PERPIXEL_TRANSPARENT</span><span class="o">))</span> <span class="o">{</span>
                    <span class="k">new</span> <span class="n">TranslucentShapedWindow</span><span class="o">();</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre>
<p>This produce that sort of window :</p>
<p><a href="../../../wp-content/uploads/2010/06/ShapedWindow.png"><img class="size-full wp-image-615" title="Java 7 : Shaped Windows" src="../../../wp-content/uploads/2010/06/ShapedWindow.png" alt="Java 7 : Shaped Windows" width="231" height="322"></a></p>
<p>And of course you can combine translucency and shaped windows adding setOpacity(0.5f) to your frame. For that the Per Pixel Translucency and the Per Pixel Transparency must be supported. That give us this kind of window :</p>
<p><a href="../../../wp-content/uploads/2010/06/TranslucentShapedWindow.png"><img class="size-full wp-image-616" title="Java 7 : Translucent Shaped Window" src="../../../wp-content/uploads/2010/06/TranslucentShapedWindow.png" alt="Java 7 : Translucent Shaped Window" width="200" height="300"></a></p>
<p>Here we are. We've now covered the new translucency features of Java 7. I think it's really interesting and make Java Desktop Applications more competitive. But I think there is still work to do in Swing before doing that kind of fun stuff.</p>
</div>
</div>
<aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../../categories/java.html" rel="tag">Java</a></li>
<li><a class="tag p-category" href="../../../categories/java-7.html" rel="tag">Java 7</a></li>
<li><a class="tag p-category" href="../../../categories/swing.html" rel="tag">Swing</a></li>
</ul>
<ul class="pager hidden-print">
<li class="previous">
<a href="../05/java-7-add-public-defender-methods-to-java-interfaces.html" rel="prev" title='Java 7 : Add "public defender methods" to Java interfaces'>Previous post</a>
</li>
<li class="next">
<a href="how-to-choose-a-monitor.html" rel="next" title="How to choose a monitor for your computer ?">Next post</a>
</li>
</ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
<div id="disqus_thread"></div>
<script>
        var disqus_shortname ="blogwichtounet",
            disqus_url="http://baptiste-wicht.com/posts/2010/06/java-7-translucency-shaped-windows.html",
        disqus_title="Java 7 : Translucency and shaped windows",
        disqus_identifier="cache/posts/2010/06/java-7-translucency-shaped-windows.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
<a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>
</section></article><script>var disqus_shortname="blogwichtounet";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div> 
</div>

</div>



<footer>
Contents Â© 2017 <a href="/cdn-cgi/l/email-protection#600201101409131405170903081420070d01090c4e030f0d">Baptiste Wicht</a> - Powered by <a href="http://getnikola.com" rel="nofollow">Nikola</a> - License:
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="padding-left:5px;border-width:0" src="../../../assets/img/cc.png"></a>
<ul class="footer_inline_ul">
<li>
<a href="java-7-translucency-shaped-windows.wp" id="sourcelink">Source</a>
</li>
</ul></footer><script src="/cdn-cgi/scripts/78d64697/cloudflare-static/email-decode.min.js"></script><script src="../../../assets/js/all-nocdn.js"></script>
</body>
</html>
