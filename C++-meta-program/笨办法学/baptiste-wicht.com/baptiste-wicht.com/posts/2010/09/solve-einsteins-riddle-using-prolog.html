<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Solve Einstein’s Riddle using Prolog | Blog blog("Baptiste Wicht");</title>
<script src="/cdn-cgi/apps/head/98vpnawSZZMscPn4oDND-ZgswjM.js"></script><link href="../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../../rss.xml">
<link rel="canonical" href="http://baptiste-wicht.com/posts/2010/09/solve-einsteins-riddle-using-prolog.html">
<!--[if lt IE 9]><script src="../../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Baptiste Wicht">
<link rel="prev" href="jdk-7-features-updated-plan-b-is-apparently-here.html" title="JDK 7 Features updated ! Plan B has apparently been approved" type="text/html">
<link rel="next" href="a-better-swingworker.html" title="Swing tip : A better SwingWorker without exception swallowing" type="text/html">
<meta property="og:site_name" content='Blog blog("Baptiste Wicht");'>
<meta property="og:title" content="Solve Einstein’s Riddle using Prolog">
<meta property="og:url" content="http://baptiste-wicht.com/posts/2010/09/solve-einsteins-riddle-using-prolog.html">
<meta property="og:description" content="This week, we started learning Prolog at school. So to exercise, I choose the Einstein's Riddle. Einstein wrote this riddle in the 19th century. He stated that only 2% of the population can solve it b">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2010-09-22T07:01:30+02:00">
<meta property="article:tag" content="Others">
<meta property="article:tag" content="Prolog">
<link href="../../../favicon.ico" rel="icon" type="image/x-icon">
<link rel="publisher" href="https://plus.google.com/+BaptisteWicht">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-2175227-7', 'auto');
  var metas = document.getElementsByTagName('meta'), tagsList = [];
  for (var i=0; i<metas.length; i++) {
    if (metas[i].getAttribute('property') == 'article:tag') {
      tagsList.push( metas[i].getAttribute('content'));
    }
  }
  ga('set', 'dimension1', tagsList.join('|'));
  ga('send', 'pageview');
</script>
</head>
<body>

<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>
<div class="container-fluid">

<div class="row">
<div class="col-sm-3 col-lg-2">
<nav class="navbar navbar-inverse navbar-fixed-side"><div class="navbar-header">
<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
<span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
<a class="navbar-brand" href="http://baptiste-wicht.com/">
<span id="blog-title">Blog blog("Baptiste Wicht");</span>
</a>
</div>

<div class="collapse navbar-collapse navbar-ex1-collapse">
<ul class="nav navbar-nav">
<li>
<a href="../../../stories/about.html">About</a>
</li>
<li>
<a href="../../../stories/publications.html">Publications</a>
</li>
<li>
<a href="../../../stories/projects.html">Projects</a>
</li>
<li>
<a href="../../../categories/index.html">Tags</a>
</li>
<li>
<a href="../../../archive.html">Archives</a>
</li>
<li>
<a href="http://feeds.feedburner.com/BaptisteWicht">RSS</a>
</li>
<li class="navbar-content">
<h3>Related posts</h3>
</li>
<li><a href="../../2009/12/swing-user-interface-jtable.html">Creation of Swing User Interface : Tables (JTable)</a></li>
<li><a href="../05/java-7-add-public-defender-methods-to-java-interfaces.html">Java 7 : Add "public defender methods" to Java interfaces</a></li>
<li><a href="../07/play-framework-template-engine.html">Play Framework - The template engine</a></li>
<li><a href="../02/modular-application-jtheque-core-2-0-3.html">Develop a modular application with JTheque Core 2.0.3</a></li>
<li><a href="../../2012/04/c11-concurrency-tutorial-advanced-locking-and-condition-variables.html">C++11 Concurrency Tutorial - Part 3: Advanced locking and condition variables</a></li>
<li><a href="../../2014/09/budgetwarrior-041-expense-templates-and-year-projection.html">budgetwarrior 0.4.1 - Expense templates and year projection</a></li>
<li class="navbar-block">
<li class="wicht-navbar-right">
<a target="_blank" title="Follow @wichtounet on Twitter" href="https://twitter.com/wichtounet">
<img src="../../../assets/img/twitter.png" alt="Follow @wichtounet on Twitter"></a>
</li>
<li class="wicht-navbar-right">
<a target="_blank" title="Follow +BaptisteWicht on Google+" href="https://plus.google.com/+BaptisteWicht">
<img src="../../../assets/img/google_plus.png" alt="Follow +BaptisteWicht on Google+"></a>
</li>
</ul>
</div>

</nav>
</div> 
<div class="col-sm-9 col-lg-10">
<div id="content"></div>
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">Solve Einstein’s Riddle using Prolog</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author">
Baptiste Wicht
</span></p>
<p class="dateline"><a href="#" rel="bookmark"><time class="published dt-published" datetime="2010-09-22T07:01:30+02:00" itemprop="datePublished" title="2010-09-22 07:01">2010-09-22 07:01</time></a></p>
<p class="commentline">
<a href="solve-einsteins-riddle-using-prolog.html#disqus_thread" data-disqus-identifier="cache/posts/2010/09/solve-einsteins-riddle-using-prolog.html">Comments</a>
</p>
<p class="sourceline"><a href="solve-einsteins-riddle-using-prolog.wp" class="sourcelink">Source</a></p>
</div>
</header><div class="e-content entry-content" itemprop="articleBody text">
<div>
<p>This week, we started learning Prolog at school. So to exercise, I choose the Einstein's Riddle. Einstein wrote this riddle in the 19th century. He stated that only 2% of the population can solve it by mind. Personnally, I'm not of this two %, I needed paper and pens to solve it. But this is not the them of the post, so let's use Prolog to solve it. I will present my solution, there is certainly other solutions, and certainly better, but it makes only some days that I started learning this language and this new kind of developing, logical programming. </p>
<p>Here is the riddle as stated by Einstein :</p>
<ol>
<li>In a street there are five houses, painted five different colours.</li>
<li>In each house lives a person of different nationality</li>
<li>These five homeowners each drink a different kind of beverage, smoke different brand of cigar and keep a different pet.</li>
</ol>
<p>The question is : Who owns the fish ?</p>
<p>And there are 15 hints :</p>
<ol>
<li>The Brit lives in a red house.</li>
<li>The Swede keeps dogs as pets.</li>
<li>The Dane drinks tea.</li>
<li>The Green house is next to, and on the left of the White house.</li>
<li>The owner of the Green house drinks coffee.</li>
<li>The person who smokes Pall Mall rears birds.</li>
<li>The owner of the Yellow house smokes Dunhill.</li>
<li>The man living in the centre house drinks milk.</li>
<li>The Norwegian lives in the first house.</li>
<li>The man who smokes Blends lives next to the one who keeps cats.</li>
<li>The man who keeps horses lives next to the man who smokes Dunhill.</li>
<li>The man who smokes Blue Master drinks beer.</li>
<li>The German smokes Prince.</li>
<li>The Norwegian lives next to the blue house.</li>
<li>The man who smokes Blends has a neighbour who drinks water.</li>
</ol>
<p>So let's start with the code !</p>

<p>First of all, we'll create a list of tuple containing all the informations about a men . The position in the list represent the position of the house in the street. So we'll create a predicate to create the list :</p>
<pre class="code literal-block"><span></span><span class="nf">persons</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">[])</span> <span class="p">:-</span> <span class="p">!.</span>
<span class="nf">persons</span><span class="p">(</span><span class="nv">N</span><span class="p">,</span> <span class="p">[(</span><span class="k">_</span><span class="nv">Men</span><span class="p">,</span><span class="k">_</span><span class="nv">Color</span><span class="p">,</span><span class="k">_</span><span class="nv">Drink</span><span class="p">,</span><span class="k">_</span><span class="nv">Smoke</span><span class="p">,</span><span class="k">_</span><span class="nv">Animal</span><span class="p">)|</span><span class="nv">T</span><span class="p">])</span> <span class="p">:-</span> <span class="nv">N1</span> <span class="o">is</span> <span class="nv">N</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nf">persons</span><span class="p">(</span><span class="nv">N1</span><span class="p">,</span><span class="nv">T</span><span class="p">).</span>
</pre>
<p>The first predicate, is to end when the index is 0 and the list is empty. And the second one create a recursive list with N element. Then, I needed a predicate to get the Nth element if corresponding to some informations of the recursive list : </p>
<pre class="code literal-block"><span></span><span class="nf">person</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="nv">H</span><span class="p">|</span><span class="k">_</span><span class="p">],</span> <span class="nv">H</span><span class="p">)</span> <span class="p">:-</span> <span class="p">!.</span>
<span class="nf">person</span><span class="p">(</span><span class="nv">N</span><span class="p">,</span> <span class="p">[</span><span class="k">_</span><span class="p">|</span><span class="nv">T</span><span class="p">],</span> <span class="nv">R</span><span class="p">)</span> <span class="p">:-</span> <span class="nv">N1</span> <span class="o">is</span> <span class="nv">N</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nf">person</span><span class="p">(</span><span class="nv">N1</span><span class="p">,</span> <span class="nv">T</span><span class="p">,</span> <span class="nv">R</span><span class="p">).</span>
</pre>
<p>Again, the first one is used to stop when we are at the good element. And the second predicate iterate until the good element is found. </p>
<p>Then, I have translated the hints into predicate : </p>
<pre class="code literal-block"><span></span><span class="c1">% The Brit lives in a red house</span>
<span class="nf">hint1</span><span class="p">([(</span><span class="s s-Atom">brit</span><span class="p">,</span><span class="s s-Atom">red</span><span class="p">,</span><span class="k">_</span><span class="p">,</span> <span class="k">_</span><span class="p">,</span> <span class="k">_</span><span class="p">)|</span><span class="k">_</span><span class="p">]).</span>
<span class="nf">hint1</span><span class="p">([</span><span class="k">_</span><span class="p">|</span><span class="nv">T</span><span class="p">])</span> <span class="p">:-</span> <span class="nf">hint1</span><span class="p">(</span><span class="nv">T</span><span class="p">).</span>
<span class="c1">% The Swede keeps dogs as pets</span>
<span class="nf">hint2</span><span class="p">([(</span><span class="s s-Atom">swede</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="s s-Atom">dog</span><span class="p">)|</span><span class="k">_</span><span class="p">]).</span>
<span class="nf">hint2</span><span class="p">([</span><span class="k">_</span><span class="p">|</span><span class="nv">T</span><span class="p">])</span> <span class="p">:-</span> <span class="nf">hint2</span><span class="p">(</span><span class="nv">T</span><span class="p">).</span>
<span class="c1">% The Dane drinks tea</span>
<span class="nf">hint3</span><span class="p">([(</span><span class="s s-Atom">dane</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="s s-Atom">tea</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">)|</span><span class="k">_</span><span class="p">]).</span>
<span class="nf">hint3</span><span class="p">([</span><span class="k">_</span><span class="p">|</span><span class="nv">T</span><span class="p">])</span> <span class="p">:-</span> <span class="nf">hint3</span><span class="p">(</span><span class="nv">T</span><span class="p">).</span>
<span class="c1">% The Green house is on the left of the White house</span>
<span class="nf">hint4</span><span class="p">([(</span><span class="k">_</span><span class="p">,</span><span class="s s-Atom">green</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">),(</span><span class="k">_</span><span class="p">,</span><span class="s s-Atom">white</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">)|</span><span class="k">_</span><span class="p">]).</span>
<span class="nf">hint4</span><span class="p">([</span><span class="k">_</span><span class="p">|</span><span class="nv">T</span><span class="p">])</span> <span class="p">:-</span> <span class="nf">hint4</span><span class="p">(</span><span class="nv">T</span><span class="p">).</span>
<span class="c1">% The owner of the Green house drinks coffee. </span>
<span class="nf">hint5</span><span class="p">([(</span><span class="k">_</span><span class="p">,</span><span class="s s-Atom">green</span><span class="p">,</span><span class="s s-Atom">coffee</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">)|</span><span class="k">_</span><span class="p">]).</span>
<span class="nf">hint5</span><span class="p">([</span><span class="k">_</span><span class="p">|</span><span class="nv">T</span><span class="p">])</span> <span class="p">:-</span> <span class="nf">hint5</span><span class="p">(</span><span class="nv">T</span><span class="p">).</span>
<span class="c1">% The person who smokes Pall Mall rears birds</span>
<span class="nf">hint6</span><span class="p">([(</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="s s-Atom">pallmall</span><span class="p">,</span><span class="s s-Atom">bird</span><span class="p">)|</span><span class="k">_</span><span class="p">]).</span>
<span class="nf">hint6</span><span class="p">([</span><span class="k">_</span><span class="p">|</span><span class="nv">T</span><span class="p">])</span> <span class="p">:-</span> <span class="nf">hint6</span><span class="p">(</span><span class="nv">T</span><span class="p">).</span>
<span class="c1">% The owner of the Yellow house smokes Dunhill</span>
<span class="nf">hint7</span><span class="p">([(</span><span class="k">_</span><span class="p">,</span><span class="s s-Atom">yellow</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="s s-Atom">dunhill</span><span class="p">,</span><span class="k">_</span><span class="p">)|</span><span class="k">_</span><span class="p">]).</span>
<span class="nf">hint7</span><span class="p">([</span><span class="k">_</span><span class="p">|</span><span class="nv">T</span><span class="p">])</span> <span class="p">:-</span> <span class="nf">hint7</span><span class="p">(</span><span class="nv">T</span><span class="p">).</span>
<span class="c1">% The man living in the centre house drinks milk</span>
<span class="nf">hint8</span><span class="p">(</span><span class="nv">Persons</span><span class="p">)</span> <span class="p">:-</span> <span class="nf">person</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="nv">Persons</span><span class="p">,</span> <span class="p">(</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="s s-Atom">milk</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">)).</span>
<span class="c1">% The Norwegian lives in the first house</span>
<span class="nf">hint9</span><span class="p">(</span><span class="nv">Persons</span><span class="p">)</span> <span class="p">:-</span> <span class="nf">person</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nv">Persons</span><span class="p">,</span> <span class="p">(</span><span class="s s-Atom">norwegian</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">)).</span>
<span class="c1">% The man who smokes Blends lives next to the one who keeps cats</span>
<span class="nf">hint10</span><span class="p">([(</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="s s-Atom">blend</span><span class="p">,</span><span class="k">_</span><span class="p">),(</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="s s-Atom">cat</span><span class="p">)|</span><span class="k">_</span><span class="p">]).</span>
<span class="nf">hint10</span><span class="p">([(</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="s s-Atom">cat</span><span class="p">),(</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="s s-Atom">blend</span><span class="p">,</span><span class="k">_</span><span class="p">)|</span><span class="k">_</span><span class="p">]).</span>
<span class="nf">hint10</span><span class="p">([</span><span class="k">_</span><span class="p">|</span><span class="nv">T</span><span class="p">])</span> <span class="p">:-</span> <span class="nf">hint10</span><span class="p">(</span><span class="nv">T</span><span class="p">).</span>
<span class="c1">% The man who keeps horses lives next to the man who smokes Dunhill</span>
<span class="nf">hint11</span><span class="p">([(</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="s s-Atom">dunhill</span><span class="p">,</span><span class="k">_</span><span class="p">),(</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="s s-Atom">horse</span><span class="p">)|</span><span class="k">_</span><span class="p">]).</span>
<span class="nf">hint11</span><span class="p">([(</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="s s-Atom">horse</span><span class="p">),(</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="s s-Atom">dunhill</span><span class="p">,</span><span class="k">_</span><span class="p">)|</span><span class="k">_</span><span class="p">]).</span>
<span class="nf">hint11</span><span class="p">([</span><span class="k">_</span><span class="p">|</span><span class="nv">T</span><span class="p">])</span> <span class="p">:-</span> <span class="nf">hint11</span><span class="p">(</span><span class="nv">T</span><span class="p">).</span>
<span class="c1">% The man who smokes Blue Master drinks beer</span>
<span class="nf">hint12</span><span class="p">([(</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="s s-Atom">beer</span><span class="p">,</span><span class="s s-Atom">bluemaster</span><span class="p">,</span><span class="k">_</span><span class="p">)|</span><span class="k">_</span><span class="p">]).</span>
<span class="nf">hint12</span><span class="p">([</span><span class="k">_</span><span class="p">|</span><span class="nv">T</span><span class="p">])</span> <span class="p">:-</span> <span class="nf">hint12</span><span class="p">(</span><span class="nv">T</span><span class="p">).</span>
<span class="c1">% The German smokes Prince</span>
<span class="nf">hint13</span><span class="p">([(</span><span class="s s-Atom">german</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="s s-Atom">prince</span><span class="p">,</span><span class="k">_</span><span class="p">)|</span><span class="k">_</span><span class="p">]).</span>
<span class="nf">hint13</span><span class="p">([</span><span class="k">_</span><span class="p">|</span><span class="nv">T</span><span class="p">])</span> <span class="p">:-</span> <span class="nf">hint13</span><span class="p">(</span><span class="nv">T</span><span class="p">).</span>
<span class="c1">% The Norwegian lives next to the blue house</span>
<span class="nf">hint14</span><span class="p">([(</span><span class="s s-Atom">norwegian</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">),(</span><span class="k">_</span><span class="p">,</span><span class="s s-Atom">blue</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">)|</span><span class="k">_</span><span class="p">]).</span>
<span class="nf">hint14</span><span class="p">([(</span><span class="k">_</span><span class="p">,</span><span class="s s-Atom">blue</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">),(</span><span class="s s-Atom">norwegian</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">)|</span><span class="k">_</span><span class="p">]).</span>
<span class="nf">hint14</span><span class="p">([</span><span class="k">_</span><span class="p">|</span><span class="nv">T</span><span class="p">])</span> <span class="p">:-</span> <span class="nf">hint14</span><span class="p">(</span><span class="nv">T</span><span class="p">).</span>
<span class="c1">% The man who smokes Blends has a neighbour who drinks water</span>
<span class="nf">hint15</span><span class="p">([(</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="s s-Atom">blend</span><span class="p">,</span><span class="k">_</span><span class="p">),(</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="s s-Atom">water</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">)|</span><span class="k">_</span><span class="p">]).</span>
<span class="nf">hint15</span><span class="p">([(</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="s s-Atom">water</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">),(</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="s s-Atom">blend</span><span class="p">,</span><span class="k">_</span><span class="p">)|</span><span class="k">_</span><span class="p">]).</span>
<span class="nf">hint15</span><span class="p">([</span><span class="k">_</span><span class="p">|</span><span class="nv">T</span><span class="p">])</span> <span class="p">:-</span> <span class="nf">hint15</span><span class="p">(</span><span class="nv">T</span><span class="p">).</span>
<span class="c1">% The question : Who owns the fish ?</span>
<span class="nf">question</span><span class="p">([(</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="s s-Atom">fish</span><span class="p">)|</span><span class="k">_</span><span class="p">]).</span>
<span class="nf">question</span><span class="p">([</span><span class="k">_</span><span class="p">|</span><span class="nv">T</span><span class="p">])</span> <span class="p">:-</span> <span class="nf">question</span><span class="p">(</span><span class="nv">T</span><span class="p">).</span>
</pre>
<p>I've used one main way to do the predicates. The first predicate type used for every predicates except 8 and 9 is really simple. I expressed the valid values and then, I used iteration to iterate over the arrays. With that, the predicate is true when the the list contains the good value (or values when testing for an house next to another). </p>
<p>The other predicate is that we specify that the Nth contains some values. </p>
<p>After that, we must specify the question : </p>
<pre class="code literal-block"><span></span><span class="nf">question</span><span class="p">([(</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="k">_</span><span class="p">,</span><span class="s s-Atom">fish</span><span class="p">)|</span><span class="k">_</span><span class="p">]).</span>
<span class="nf">question</span><span class="p">([</span><span class="k">_</span><span class="p">|</span><span class="nv">T</span><span class="p">])</span> <span class="p">:-</span> <span class="nf">question</span><span class="p">(</span><span class="nv">T</span><span class="p">).</span>
</pre>
<p>We just iterate the list, specifying that there is a man with a fish. Without the question, we can solve the problem, but we don't know that the last animal is a fish. </p>
<p>And after all, we can try to solve the riddle : </p>
<pre class="code literal-block"><span></span><span class="nf">solution</span><span class="p">(</span><span class="nv">Persons</span><span class="p">)</span> <span class="p">:-</span>
  <span class="nf">persons</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="nv">Persons</span><span class="p">),</span>
  <span class="nf">hint1</span><span class="p">(</span><span class="nv">Persons</span><span class="p">),</span>
  <span class="nf">hint2</span><span class="p">(</span><span class="nv">Persons</span><span class="p">),</span>
  <span class="nf">hint3</span><span class="p">(</span><span class="nv">Persons</span><span class="p">),</span>
  <span class="nf">hint4</span><span class="p">(</span><span class="nv">Persons</span><span class="p">),</span>
  <span class="nf">hint5</span><span class="p">(</span><span class="nv">Persons</span><span class="p">),</span>
  <span class="nf">hint6</span><span class="p">(</span><span class="nv">Persons</span><span class="p">),</span>
  <span class="nf">hint7</span><span class="p">(</span><span class="nv">Persons</span><span class="p">),</span>
  <span class="nf">hint8</span><span class="p">(</span><span class="nv">Persons</span><span class="p">),</span>
  <span class="nf">hint9</span><span class="p">(</span><span class="nv">Persons</span><span class="p">),</span>
  <span class="nf">hint10</span><span class="p">(</span><span class="nv">Persons</span><span class="p">),</span>
  <span class="nf">hint11</span><span class="p">(</span><span class="nv">Persons</span><span class="p">),</span>
  <span class="nf">hint12</span><span class="p">(</span><span class="nv">Persons</span><span class="p">),</span>
  <span class="nf">hint13</span><span class="p">(</span><span class="nv">Persons</span><span class="p">),</span>
  <span class="nf">hint14</span><span class="p">(</span><span class="nv">Persons</span><span class="p">),</span>
  <span class="nf">hint15</span><span class="p">(</span><span class="nv">Persons</span><span class="p">),</span>
  <span class="nf">question</span><span class="p">(</span><span class="nv">Persons</span><span class="p">).</span>
</pre>
<p>We just say that the solution is the combinaison of all the hints and the question, so that the solution must validate all predicates. </p>
<p>So let's try our program : </p>
<pre><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="8bfce2e8e3ffe4fee5eeffcbfce2e8e3ffe4fee5eeffa6e7eafbffe4fb">[email&#160;protected]</a>:~/Desktop$ gprolog
GNU Prolog 1.3.0
By Daniel Diaz
Copyright (C) 1999-2007 Daniel Diaz
| ?- [einstein.pl].      
uncaught exception: error(syntax_error('user_input:1 (char:10) , | ] or operator expected in list'),read_term/3)
| ?- 
Prolog interruption (h for help) ? e
<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="72051b111a061d071c170632051b111a061d071c17065f1e1302061d02">[email&#160;protected]</a>:~/Desktop$ gprolog
GNU Prolog 1.3.0
By Daniel Diaz
Copyright (C) 1999-2007 Daniel Diaz
| ?- consult('einstein.pl').
compiling /home/wichtounet/Desktop/einstein.pl for byte code...
/home/wichtounet/Desktop/einstein.pl compiled, 100 lines read - 14891 bytes written, 17 ms
yes
| ?- solution(Persons).
Persons = [(norwegian,yellow,water,dunhill,cat),(dane,blue,tea,blend,horse),(brit,red,milk,pallmall,bird),
(german,green,coffee,prince,fish),(swede,white,beer,bluemaster,dog)] ? a
(20 ms) no
| ?- 
Prolog interruption (h for help) ? e
</pre>
<p>With that, we found not only the man who have fish but also all the other informations. The answer is the german. </p>
<p>That's all we need :)</p>
<p>I hope you found that post interesting. </p>
<p>Here is the complete source code : <a href="../../../wp-content/uploads/2010/09/einstein.pl">Einstein's Riddle in Prolog</a></p>
</div>
</div>
<aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../../categories/others.html" rel="tag">Others</a></li>
<li><a class="tag p-category" href="../../../categories/prolog.html" rel="tag">Prolog</a></li>
</ul>
<ul class="pager hidden-print">
<li class="previous">
<a href="jdk-7-features-updated-plan-b-is-apparently-here.html" rel="prev" title="JDK 7 Features updated ! Plan B has apparently been approved">Previous post</a>
</li>
<li class="next">
<a href="a-better-swingworker.html" rel="next" title="Swing tip : A better SwingWorker without exception swallowing">Next post</a>
</li>
</ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
<div id="disqus_thread"></div>
<script src="/cdn-cgi/scripts/78d64697/cloudflare-static/email-decode.min.js"></script><script>
        var disqus_shortname ="blogwichtounet",
            disqus_url="http://baptiste-wicht.com/posts/2010/09/solve-einsteins-riddle-using-prolog.html",
        disqus_title="Solve Einstein\u2019s Riddle using Prolog",
        disqus_identifier="cache/posts/2010/09/solve-einsteins-riddle-using-prolog.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
<a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>
</section></article><script>var disqus_shortname="blogwichtounet";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div> 
</div>

</div>



<footer>
Contents © 2017 <a href="/cdn-cgi/l/email-protection#7d1f1c0d09140e09180a141e15093d1a101c1411531e1210">Baptiste Wicht</a> - Powered by <a href="http://getnikola.com" rel="nofollow">Nikola</a> - License:
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="padding-left:5px;border-width:0" src="../../../assets/img/cc.png"></a>
<ul class="footer_inline_ul">
<li>
<a href="solve-einsteins-riddle-using-prolog.wp" id="sourcelink">Source</a>
</li>
</ul></footer><script src="/cdn-cgi/scripts/78d64697/cloudflare-static/email-decode.min.js"></script><script src="../../../assets/js/all-nocdn.js"></script>
</body>
</html>
